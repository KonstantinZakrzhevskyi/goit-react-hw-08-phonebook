(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{16:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"c",(function(){return b})),n.d(e,"b",(function(){return p}));var c=n(9),r=n.n(c),a=n(17),u=n(12),i=n.n(u),o=n(5);i.a.defaults.baseURL="https://connections-api.herokuapp.com";var s,l=Object(o.c)("auth/register",function(){var t=Object(a.a)(r.a.mark((function t(e){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.post("/users/signup",e);case 3:return n=t.sent,c=n.data,t.abrupt("return",c);case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),j=Object(o.c)("auth/login",function(){var t=Object(a.a)(r.a.mark((function t(e){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.post("/users/login",e);case 3:return n=t.sent,c=n.data,t.abrupt("return",c);case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),d={register:l,logIn:j,logOut:Object(o.c)("auth/logout",Object(a.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.post("/users/logout");case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])}))))},b={getIsLoggedIn:function(t){return t.auth.isLoggedIn},getUserName:function(t){return t.auth.user.name}},f=n(3),p=Object(o.e)({name:"auth",initialState:{user:{name:null,email:null},token:null,isLoggedId:!1},extraReducers:(s={},Object(f.a)(s,d.register.fulfilled,(function(t,e){t.user=e.payload.user,t.token=e.payload.token,t.isLoggedId=!0})),Object(f.a)(s,d.logIn.fulfilled,(function(t,e){t.user=e.payload.user,t.token=e.payload.token,t.isLoggedId=!0})),s)}).reducer},21:function(t,e,n){t.exports={link:"Navigation_link__1TrI1",activeLink:"Navigation_activeLink__2gumN Navigation_link__1TrI1"}},27:function(t,e,n){t.exports={container:"Container_container__TK92G",title:"Container_title__V53L_"}},28:function(t,e,n){t.exports={link:"AuthNav_link__1aB9k",activeLink:"AuthNav_activeLink__2lPPG AuthNav_link__1aB9k"}},29:function(t,e,n){"use strict";n.r(e),n.d(e,"changeFilter",(function(){return r}));var c=n(5),r=Object(c.b)("contacts/filter")},44:function(t,e,n){t.exports={loader:"Loader_loader__3feav"}},7:function(t,e,n){"use strict";n.r(e),n.d(e,"fetchContacts",(function(){return s})),n.d(e,"addContact",(function(){return l})),n.d(e,"deleteContact",(function(){return j}));var c=n(9),r=n.n(c),a=n(17),u=n(5),i=n(12),o=n.n(i);o.a.defaults.baseURL="https://connections-api.herokuapp.com";var s=Object(u.c)("contacts/fetchContacts",function(){var t=Object(a.a)(r.a.mark((function t(e,n){var c,a,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.rejectWithValue,t.prev=1,t.next=4,o.a.get("/contacts");case 4:return a=t.sent,u=a.data,t.abrupt("return",u);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",c(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,n){return t.apply(this,arguments)}}()),l=Object(u.c)("contacts/addContact",function(){var t=Object(a.a)(r.a.mark((function t(e,n){var c,a,u,i,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.name,a=e.number,u=n.rejectWithValue,t.prev=2,t.next=5,o.a.post("/contacts",{name:c,number:a});case 5:return i=t.sent,s=i.data,t.abrupt("return",s);case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",u(t.t0));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n){return t.apply(this,arguments)}}()),j=Object(u.c)("contacts/deleteContact",function(){var t=Object(a.a)(r.a.mark((function t(e,n){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.rejectWithValue,t.prev=1,t.next=4,o.a.delete("/contacts/".concat(e));case 4:return t.abrupt("return",e);case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",c(t.t0));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,n){return t.apply(this,arguments)}}())},77:function(t,e,n){},97:function(t,e,n){},98:function(t,e,n){"use strict";n.r(e);var c,r,a,u=n(0),i=n.n(u),o=n(24),s=n.n(o),l=n(13),j=n(39),d=n(15),b=n(5),f=n(41),p=n.n(f),h=n(14),O=n(42),v=n.n(O),g=n(3),x=n(45),k=n(8),m=n(7),_=n(29),C=Object(b.d)([],(c={},Object(g.a)(c,m.fetchContacts.fulfilled,(function(t,e){return e.payload})),Object(g.a)(c,m.addContact.fulfilled,(function(t,e){var n=e.payload;return[].concat(Object(x.a)(t),[n])})),Object(g.a)(c,m.deleteContact.fulfilled,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),y=Object(b.d)(!1,(r={},Object(g.a)(r,m.fetchContacts.pending,(function(){return!0})),Object(g.a)(r,m.fetchContacts.fulfilled,(function(){return!1})),Object(g.a)(r,m.fetchContacts.rejected,(function(){return!1})),Object(g.a)(r,m.addContact.pending,(function(){return!0})),Object(g.a)(r,m.addContact.fulfilled,(function(){return!1})),Object(g.a)(r,m.addContact.rejected,(function(){return!1})),Object(g.a)(r,m.deleteContact.pending,(function(){return!0})),Object(g.a)(r,m.deleteContact.fulfilled,(function(){return!1})),Object(g.a)(r,m.deleteContact.rejected,(function(){return!1})),r)),w=Object(b.d)("",Object(g.a)({},_.changeFilter,(function(t,e){return e.payload}))),L=Object(b.d)(null,(a={},Object(g.a)(a,m.fetchContacts.rejected,(function(t,e){return e.payload})),Object(g.a)(a,m.fetchContacts.rejected,(function(){return null})),a)),N=Object(k.b)({items:C,filter:w,loading:y,error:L}),I=n(16),A={key:"auth",storage:v.a,whitelist:["token"]},z=Object(b.a)({reducer:{auth:Object(h.g)(A,I.b),contacts:N},middleware:function(t){return t({serializableCheck:{ignoredActions:[h.a,h.f,h.b,h.c,h.d,h.e]}}).concat(p.a)},devTools:!1}),B=Object(h.h)(z),F=(n(77),n(2)),T=n(30),S=n(27),U=n.n(S),V=n(1);var W=function(t){var e=t.title,n=t.children;return Object(V.jsxs)("section",{className:U.a.container,children:[e&&Object(V.jsx)("h2",{className:U.a.title,children:e}),n]})},R=n(21),G=n.n(R);function J(){return Object(V.jsxs)("nav",{children:[Object(V.jsx)(l.b,{to:"/",className:function(t){return t.isActive?G.a.activeLink:G.a.link},children:"Home"}),Object(V.jsx)(l.b,{to:"/contacts",className:function(t){return t.isActive?G.a.activeLink:G.a.link},children:"Contacts"})]})}var P=n.p+"static/media/defaultAvatar.45ca501c.png";function E(){var t=Object(d.b)(),e=Object(d.c)(I.c.getUserName),n=P;return Object(V.jsxs)("div",{children:[Object(V.jsx)("img",{src:n,alt:"avatar",width:"28"}),Object(V.jsxs)("span",{children:["Welcome, ",e]}),Object(V.jsx)("button",{type:"button",onClick:function(){return t(I.a.logOut())},children:"Logout"})]})}var H=n(28),K=n.n(H),M=function(t){return t.isActive?K.a.activeLink:K.a.link};function q(){return Object(V.jsxs)("nav",{children:[Object(V.jsx)(l.b,{to:"/register",className:M,children:"Sign up"}),Object(V.jsx)(l.b,{to:"/login",className:M,children:"Login"})]})}function D(){var t=Object(d.c)(I.c.getIsLoggedIn);return Object(V.jsxs)("header",{children:[Object(V.jsx)(J,{}),t?Object(V.jsx)(E,{}):Object(V.jsx)(q,{})]})}var Q=n(43),X=n.n(Q),Y=n(44),Z=n.n(Y),$=function(){return Object(V.jsx)("div",{className:Z.a.loader,children:Object(V.jsx)(X.a,{type:"BallTriangle",color:"#00BFFF",height:200,width:200,timeout:3e3})})},tt=(n(97),Object(u.lazy)((function(){return n.e(4).then(n.bind(null,103))}))),et=Object(u.lazy)((function(){return n.e(6).then(n.bind(null,104))})),nt=Object(u.lazy)((function(){return n.e(5).then(n.bind(null,105))})),ct=Object(u.lazy)((function(){return n.e(3).then(n.bind(null,106))}));var rt=function(){return Object(V.jsxs)(W,{children:[Object(V.jsx)(D,{}),Object(V.jsx)(u.Suspense,{fallback:Object(V.jsx)($,{}),children:Object(V.jsxs)(F.c,{children:[Object(V.jsx)(F.a,{path:"/*",element:Object(V.jsx)(tt,{})}),Object(V.jsx)(F.a,{path:"/register",element:Object(V.jsx)(et,{})}),Object(V.jsx)(F.a,{path:"/login",element:Object(V.jsx)(nt,{})}),Object(V.jsx)(F.a,{path:"/contacts",element:Object(V.jsx)(ct,{})})]})}),Object(V.jsx)(T.a,{position:"top-right"})]})};s.a.render(Object(V.jsx)(i.a.StrictMode,{children:Object(V.jsx)(d.a,{store:z,children:Object(V.jsx)(j.a,{loading:null,persistor:B,children:Object(V.jsx)(l.a,{children:Object(V.jsx)(rt,{})})})})}),document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.7c0f9dfa.chunk.js.map